{"ast":null,"code":"import{useEffect}from\"react\";import{Routes,Route}from'react-router-dom';import{AuthProvider}from\"./AuthContext\";import TodoList from\"./components/TodoList\";import'./App.css';import Login from\"./components/Login\";import Layout from'./components/Layout';import RequireAuth from'./components/RequireAuth';import NotFound from'./components/NotFound';import{useDispatch,useSelector}from\"react-redux\";import{addTasks}from\"./reducers/taskSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var tasks=useSelector(function(state){return state.tasks;});var dispatch=useDispatch();var defaultTask={title:\"\",id:null,description:\"\",deadline:null,tags:[],priority:false,image:\"\",completed:false,createdAt:null};// const onCreate = newTask => {\n//   newTask.title.length > 0 && setTasks([newTask, ...tasks]);\n// };\n// const onUpdate = (task, id) => {\n//   let tempList = tasks;\n//   let index = tasks.findIndex(t => t.id === id);\n//   tempList[index] = task;\n//   setTasks([...tempList]);\n// };\n// const onDelete = (id) => {\n//   let tempList = tasks.filter(task => task.id !== id);\n//   setTasks(tempList);\n// };\nuseEffect(function(){var arr=localStorage.getItem(\"tasks\");if(arr){dispatch(addTasks(JSON.parse(arr)));}},[]);useEffect(function(){if(tasks&&tasks.length>0){localStorage.setItem(\"tasks\",JSON.stringify(tasks));}},[tasks]);return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(TodoList,{tasks:tasks,defaultTask:defaultTask})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})})});}export default App;","map":{"version":3,"names":["useEffect","Routes","Route","AuthProvider","TodoList","Login","Layout","RequireAuth","NotFound","useDispatch","useSelector","addTasks","jsx","_jsx","jsxs","_jsxs","App","tasks","state","dispatch","defaultTask","title","id","description","deadline","tags","priority","image","completed","createdAt","arr","localStorage","getItem","JSON","parse","length","setItem","stringify","children","element","path"],"sources":["/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/src/App.js"],"sourcesContent":[" import {  useEffect } from \"react\";\nimport { Routes, Route } from 'react-router-dom';\nimport { AuthProvider } from \"./AuthContext\";\nimport TodoList from \"./components/TodoList\";\nimport './App.css'\nimport Login from \"./components/Login\";\nimport Layout from './components/Layout';\nimport RequireAuth from './components/RequireAuth';\nimport NotFound from './components/NotFound';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addTasks } from \"./reducers/taskSlice\";\n\nfunction App() {\n  const tasks=useSelector((state)=> state.tasks)\n\n  const dispatch= useDispatch();\n\n  const defaultTask = {\n    title: \"\",\n    id: null,\n    description: \"\",\n    deadline: null,\n    tags: [],\n    priority: false,\n    image: \"\",\n    completed: false,\n    createdAt: null\n  };\n\n  // const onCreate = newTask => {\n  //   newTask.title.length > 0 && setTasks([newTask, ...tasks]);\n  // };\n\n  // const onUpdate = (task, id) => {\n  //   let tempList = tasks;\n  //   let index = tasks.findIndex(t => t.id === id);\n  //   tempList[index] = task;\n  //   setTasks([...tempList]);\n  // };\n  // const onDelete = (id) => {\n  //   let tempList = tasks.filter(task => task.id !== id);\n  //   setTasks(tempList);\n  // };\n\n  useEffect(() => {\n    let arr = localStorage.getItem(\"tasks\");\n    if (arr) {\n      dispatch(addTasks(JSON.parse(arr)));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (tasks && tasks.length > 0) {\n      localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n    }\n  }, [tasks]);\n\n\n  return (\n    <AuthProvider>\n      <Routes>\n        <Route element={<Layout />}>\n          <Route path=\"/login\" element={<Login />} />\n          <Route\n            path=\"/\"\n            element={\n              <RequireAuth>\n                <TodoList tasks={tasks} defaultTask={defaultTask} />\n              </RequireAuth>\n            }\n          />\n          <Route path=\"*\" element={<NotFound />} />\n        </Route>\n\n      </Routes>\n    </AuthProvider>\n  );\n}\n\nexport default App;"],"mappings":"AAAC,OAAUA,SAAS,KAAQ,OAAO,CACnC,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,OAASC,YAAY,KAAQ,eAAe,CAC5C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,WAAW,CAClB,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,QAAQ,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,GAAM,CAAAC,KAAK,CAACP,WAAW,CAAC,SAACQ,KAAK,QAAI,CAAAA,KAAK,CAACD,KAAK,GAAC,CAE9C,GAAM,CAAAE,QAAQ,CAAEV,WAAW,CAAC,CAAC,CAE7B,GAAM,CAAAW,WAAW,CAAG,CAClBC,KAAK,CAAE,EAAE,CACTC,EAAE,CAAE,IAAI,CACRC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,IAAI,CACdC,IAAI,CAAE,EAAE,CACRC,QAAQ,CAAE,KAAK,CACfC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,KAAK,CAChBC,SAAS,CAAE,IACb,CAAC,CAED;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA7B,SAAS,CAAC,UAAM,CACd,GAAI,CAAA8B,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACvC,GAAIF,GAAG,CAAE,CACPX,QAAQ,CAACR,QAAQ,CAACsB,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,CAAC,CAAC,CACrC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN9B,SAAS,CAAC,UAAM,CACd,GAAIiB,KAAK,EAAIA,KAAK,CAACkB,MAAM,CAAG,CAAC,CAAE,CAC7BJ,YAAY,CAACK,OAAO,CAAC,OAAO,CAAEH,IAAI,CAACI,SAAS,CAACpB,KAAK,CAAC,CAAC,CACtD,CACF,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAGX,mBACEJ,IAAA,CAACV,YAAY,EAAAmC,QAAA,cACXzB,IAAA,CAACZ,MAAM,EAAAqC,QAAA,cACLvB,KAAA,CAACb,KAAK,EAACqC,OAAO,cAAE1B,IAAA,CAACP,MAAM,GAAE,CAAE,CAAAgC,QAAA,eACzBzB,IAAA,CAACX,KAAK,EAACsC,IAAI,CAAC,QAAQ,CAACD,OAAO,cAAE1B,IAAA,CAACR,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CQ,IAAA,CAACX,KAAK,EACJsC,IAAI,CAAC,GAAG,CACRD,OAAO,cACL1B,IAAA,CAACN,WAAW,EAAA+B,QAAA,cACVzB,IAAA,CAACT,QAAQ,EAACa,KAAK,CAAEA,KAAM,CAACG,WAAW,CAAEA,WAAY,CAAE,CAAC,CACzC,CACd,CACF,CAAC,cACFP,IAAA,CAACX,KAAK,EAACsC,IAAI,CAAC,GAAG,CAACD,OAAO,cAAE1B,IAAA,CAACL,QAAQ,GAAE,CAAE,CAAE,CAAC,EACpC,CAAC,CAEF,CAAC,CACG,CAAC,CAEnB,CAEA,cAAe,CAAAQ,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}