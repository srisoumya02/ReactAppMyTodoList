{"ast":null,"code":"import _defineProperty from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import loginDetails from'../data/loginDetails.json';import{useAuth}from'../AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state,_location$state$from;var navigate=useNavigate();var location=useLocation();var auth=useAuth();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var email=formData.email,password=formData.password;var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(loginDetails.email===email&&loginDetails.password===password){var _formData=new FormData(e.currentTarget);var _email=_formData.get(\"email\");auth.login(_email,function(){navigate(from,{replace:true});});return;}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",onChange:handleChange,value:email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",onChange:handleChange,value:password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","loginDetails","useAuth","jsx","_jsx","jsxs","_jsxs","Login","_location$state","_location$state$from","navigate","location","auth","from","state","pathname","_useState","email","password","_useState2","_slicedToArray","formData","setFormData","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","FormData","currentTarget","get","login","replace","children","onSubmit","className","htmlFor","type","id","onChange"],"sources":["/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport loginDetails from '../data/loginDetails.json';\nimport { useAuth } from '../AuthContext';\n\nconst Login = () => {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let auth = useAuth();\n\n  let from = location.state?.from?.pathname || \"/\";\n\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  })\n  const { email, password } = formData;\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (loginDetails.email === email && loginDetails.password === password) {\n      let formData = new FormData(e.currentTarget);\n      let email = formData.get(\"email\");\n\n      auth.login(email, () => {\n        navigate(from, { replace: true });\n      });\n      return;\n    }\n  }\n\n  return (\n    <div>\n\n      <form onSubmit={handleSubmit} className=\"login-form\">\n        <h3>Login</h3>\n        <div>\n          <label htmlFor=\"email\">Email:</label>\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={handleChange} value={email} />\n        </div>\n        <div>\n          <label htmlFor=\"password\">Password:</label>\n          <input type=\"password\" name=\"password\" id=\"password\" onChange={handleChange} value={password} />\n        </div>\n        <button type=\"submit\">Login</button>\n\n      </form>\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}