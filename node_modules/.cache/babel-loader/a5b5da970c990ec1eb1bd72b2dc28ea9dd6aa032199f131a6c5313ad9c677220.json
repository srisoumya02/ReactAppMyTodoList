{"ast":null,"code":"import _objectSpread from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import tags from'../data/tags.json';import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TaskFilters=function TaskFilters(_ref){var tasks=_ref.tasks,setSortedTasks=_ref.setSortedTasks;var options=[{value:'all',label:'All'},{value:'completed',label:'Completed'}];var _useState=useState({status:null,tags:[]}),_useState2=_slicedToArray(_useState,2),filters=_useState2[0],setFilters=_useState2[1];var _useState3=useState({value:'desc',label:'Desc'}),_useState4=_slicedToArray(_useState3,2),sortOrder=_useState4[0],setSortOrder=_useState4[1];var _useState5=useState(tasks),_useState6=_slicedToArray(_useState5,2),filteredTasks=_useState6[0],setFilteredTasks=_useState6[1];var sortTasksByStatus=function sortTasksByStatus(tasks){return tasks.sort(function(a,b){if(a.completed&&!b.completed){return 1;}else if(!a.completed&&b.completed){return-1;}else{return 0;}});};var sortTasksByPriority=function sortTasksByPriority(tasks){return tasks.sort(function(a,b){if(a.priority&&!b.priority){return-1;}else if(!a.priority&&b.priority){return 1;}else{return 0;}});};var sortTasksByCreatedAt=function sortTasksByCreatedAt(tasks){// Create a copy of the tasks array\nvar sortedTasks=_toConsumableArray(tasks);// sort based on sort order\nreturn sortedTasks.sort(function(a,b){var aDate=new Date(a.createdAt).getTime();var bDate=new Date(b.createdAt).getTime();if(sortOrder.value===\"asc\"){return aDate-bDate;}else if(sortOrder.value===\"desc\"){return bDate-aDate;}return 0;});};var sortTasks=function sortTasks(tasks){return sortTasksByStatus(sortTasksByPriority(sortTasksByCreatedAt(tasks)));};useEffect(function(){var filteredTasksWithStatus=tasks.filter(function(task){var _filters$status;if(((_filters$status=filters.status)===null||_filters$status===void 0?void 0:_filters$status.value)==='completed'){return task.completed;}return true;});if(filters.tags.length>0){var selectTags=filters.tags.map(function(_ref2){var value=_ref2.value;return value;});var filteredWithTags=filteredTasksWithStatus.filter(function(_ref3){var tags=_ref3.tags;return tags.length>0;});var filtered=filteredWithTags.filter(function(_ref4){var tags=_ref4.tags;return tags.some(function(tag){return selectTags.includes(tag.name);});});setFilteredTasks(filtered);return;}setFilteredTasks(filteredTasksWithStatus);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[filters,tasks]);useEffect(function(){var sorted=sortTasks(filteredTasks);setSortedTasks(_toConsumableArray(sorted));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[filteredTasks,sortOrder]);return/*#__PURE__*/_jsxs(\"div\",{className:\"status-filter\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Filters: \"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filter\",children:\" By Status:\"}),/*#__PURE__*/_jsx(Select,{options:options,isClearable:true,onChange:function onChange(selectedOption){return setFilters(function(prev){return _objectSpread(_objectSpread({},prev),{},{status:selectedOption});});},value:filters.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filter\",children:\" By Tags:\"}),/*#__PURE__*/_jsx(Select,{options:tags.map(function(tag){return _objectSpread({value:tag.name,label:tag.name},tag);}),isMulti:true,onChange:function onChange(selectedOption){setFilters(function(prev){return _objectSpread(_objectSpread({},prev),{},{tags:_toConsumableArray(selectedOption)});});},value:filters.tags})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filter\",children:\"Sort By:\"}),/*#__PURE__*/_jsx(Select,{options:[{value:'asc',label:'Asc'},{value:'desc',label:'Desc'}],onChange:function onChange(selectedOption){setSortOrder(selectedOption);},value:sortOrder})]})]});};export default TaskFilters;","map":{"version":3,"names":["React","useState","useEffect","tags","Select","jsx","_jsx","jsxs","_jsxs","TaskFilters","_ref","tasks","setSortedTasks","options","value","label","_useState","status","_useState2","_slicedToArray","filters","setFilters","_useState3","_useState4","sortOrder","setSortOrder","_useState5","_useState6","filteredTasks","setFilteredTasks","sortTasksByStatus","sort","a","b","completed","sortTasksByPriority","priority","sortTasksByCreatedAt","sortedTasks","_toConsumableArray","aDate","Date","createdAt","getTime","bDate","sortTasks","filteredTasksWithStatus","filter","task","_filters$status","length","selectTags","map","_ref2","filteredWithTags","_ref3","filtered","_ref4","some","tag","includes","name","sorted","className","children","htmlFor","isClearable","onChange","selectedOption","prev","_objectSpread","isMulti"],"sources":["/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/src/components/TaskFilters.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport tags from '../data/tags.json';\nimport Select from 'react-select';\n\nconst TaskFilters = ({ tasks, setSortedTasks }) => {\n  const options = [{\n    value: 'all',\n    label: 'All'\n  }, {\n    value: 'completed',\n    label: 'Completed'\n  },]\n  const [filters, setFilters] = useState({\n    status: null,\n    tags: []\n  });\n  const [sortOrder, setSortOrder] = useState({ value: 'desc', label: 'Desc' });\n  const [filteredTasks, setFilteredTasks] = useState(tasks);\n  const sortTasksByStatus = (tasks) => {\n    return tasks.sort((a, b) => {\n      if (a.completed && !b.completed) {\n        return 1\n      } else if (!a.completed && b.completed) {\n        return -1\n      } else {\n        return 0\n      }\n    })\n  }\n\n  const sortTasksByPriority = (tasks) => {\n    return tasks.sort((a, b) => {\n      if (a.priority && !b.priority) {\n        return -1\n      } else if (!a.priority && b.priority) {\n        return 1\n      } else {\n        return 0\n      }\n    })\n  }\n  const sortTasksByCreatedAt = (tasks) => {\n     // Create a copy of the tasks array\n  const sortedTasks = [...tasks];\n    // sort based on sort order\n    return sortedTasks.sort((a, b) => {\n      const aDate = new Date(a.createdAt).getTime();\n      const bDate = new Date(b.createdAt).getTime();\n      if (sortOrder.value === \"asc\") {\n\n        return aDate - bDate;\n      } else if (sortOrder.value === \"desc\") {\n        return bDate - aDate;\n      }\n      return 0\n    })\n  }\n\n  const sortTasks = (tasks) => {\n    return sortTasksByStatus(sortTasksByPriority(sortTasksByCreatedAt(tasks)))\n  }\n\n\n\n  useEffect(() => {\n    const filteredTasksWithStatus = tasks.filter(task => {\n      if (filters.status?.value === 'completed') {\n        return task.completed\n      }\n      return true\n    })\n    if (filters.tags.length > 0) {\n      const selectTags = filters.tags.map(({ value }) => value);\n      const filteredWithTags = filteredTasksWithStatus.filter(({ tags }) =>\n        tags.length > 0);\n\n      const filtered = filteredWithTags.filter(({ tags }) => {\n        return tags.some(tag => selectTags.includes(tag.name));\n      });\n      setFilteredTasks(filtered);\n      return;\n    }\n    setFilteredTasks(filteredTasksWithStatus);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filters, tasks])\n\n  useEffect(() => {\n    const sorted = sortTasks(filteredTasks)\n    setSortedTasks([...sorted])\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filteredTasks, sortOrder])\n\n  return (\n    <div className='status-filter'>\n      <h4>Filters: </h4>\n      <div>\n        <label htmlFor=\"filter\"> By Status:</label>\n        <Select\n          options={options}\n          isClearable={true}\n          onChange={(selectedOption) => setFilters(prev => ({ ...prev, status: selectedOption }))}\n          value={filters.status}>\n\n        </Select>\n      </div>\n      <div>\n        <label htmlFor=\"filter\"> By Tags:</label>\n        <Select\n          options={tags.map(tag => ({ value: tag.name, label: tag.name, ...tag }))}\n          isMulti\n          onChange={(selectedOption) => {\n            setFilters(prev => ({ ...prev, tags: [...selectedOption] }))\n          }}\n          value={filters.tags}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"filter\">Sort By:</label>\n        <Select\n          options={[{ value: 'asc', label: 'Asc' }, { value: 'desc', label: 'Desc' }]}\n          onChange={(selectedOption) => {\n            setSortOrder(selectedOption)\n          }}\n          value={sortOrder}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default TaskFilters"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}