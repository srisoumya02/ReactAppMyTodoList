{"ast":null,"code":"import _objectSpread from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import TaskForm from'./TaskForm';import{FaEdit,FaRegClock,FaTrashAlt}from'react-icons/fa';import{BsExclamationDiamond}from'react-icons/bs';import{FiCircle,FiCheckCircle}from'react-icons/fi';import{deleteTask,updateTask}from'../reducers/taskSlice';import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TaskItem=function TaskItem(_ref){var task=_ref.task,_ref$overDue=_ref.overDue,overDue=_ref$overDue===void 0?false:_ref$overDue;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var toggle=function toggle(){setModal(!modal);};var handleStatus=function handleStatus(e){setStatus(function(prev){return!prev;});};var handleDelete=function handleDelete(){dispatch(deleteTask(task.id));};useEffect(function(){setStatus(task.completed);},[task]);useEffect(function(){status!==null&&dispatch(updateTask(_objectSpread(_objectSpread({},task),{},{completed:status}),task.id));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[status]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-icon-container\",onClick:handleStatus,children:status?/*#__PURE__*/_jsx(FiCheckCircle,{className:\"completed-icon\"}):/*#__PURE__*/_jsx(FiCircle,{})}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setModal(!task.completed);},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"task-item-title\",style:{textDecoration:status?'line-through':'none'},children:task.title.length>100?\"\".concat(task.title.slice(0,100),\"...\"):task.title}),task.description&&/*#__PURE__*/_jsx(\"div\",{className:\"task-item-description\",children:task.description.length>100?\"\".concat(task.description.slice(0,100),\"...\"):task.description}),task.deadline&&/*#__PURE__*/_jsxs(\"div\",{className:\"task-item-deadline\",style:{color:overDue?'red':'initial'},children:[/*#__PURE__*/_jsx(FaRegClock,{}),' ',new Date(task.deadline).toLocaleDateString()]}),task.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{children:task.tags.slice(0,3).map(function(tag){return/*#__PURE__*/_jsx(\"span\",{className:\"tag-item\",children:tag.name},tag.id);})}),task.priority&&/*#__PURE__*/_jsx(\"div\",{className:\"task-item-priority\",children:/*#__PURE__*/_jsx(BsExclamationDiamond,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-item-buttons-container\",children:[!task.completed&&/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:function onClick(){return setModal(true);},children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"delete-button\",children:/*#__PURE__*/_jsx(FaTrashAlt,{})})]})]})}),modal&&/*#__PURE__*/_jsx(TaskForm,{modal:modal,defaultTask:task,toggle:toggle,task:task,type:\"Edit\"},task.id)]});};export default TaskItem;","map":{"version":3,"names":["React","useState","useEffect","TaskForm","FaEdit","FaRegClock","FaTrashAlt","BsExclamationDiamond","FiCircle","FiCheckCircle","deleteTask","updateTask","useDispatch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TaskItem","_ref","task","_ref$overDue","overDue","dispatch","_useState","_useState2","_slicedToArray","modal","setModal","_useState3","_useState4","status","setStatus","toggle","handleStatus","e","prev","handleDelete","id","completed","_objectSpread","children","className","onClick","style","textDecoration","title","length","concat","slice","description","deadline","color","Date","toLocaleDateString","tags","map","tag","name","priority","defaultTask","type"],"sources":["/Users/vivek/Documents/Soumya_FSD/Module23_SriSoumya_Gudla_Project 2/mytodolistapp/src/components/TaskItem.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport TaskForm from './TaskForm'\nimport { FaEdit, FaRegClock, FaTrashAlt } from 'react-icons/fa';\nimport { BsExclamationDiamond } from 'react-icons/bs';\nimport { FiCircle, FiCheckCircle } from 'react-icons/fi'\nimport { deleteTask, updateTask } from '../reducers/taskSlice';\nimport { useDispatch } from 'react-redux';\n\n\nconst TaskItem = ({ task,  overDue = false }) => {\n  const dispatch=useDispatch();\n  const [modal, setModal] = useState(false);\n  const [status, setStatus] = useState(null);\n\n  const toggle = () => {\n    setModal(!modal);\n  }\n\n  const handleStatus = (e) => {\n    setStatus(prev => !prev);\n  }\n\n  const handleDelete = () => {\n    dispatch(deleteTask(task.id))\n  }\n  useEffect(() => {\n    setStatus(task.completed)\n  }, [task])\n\n  useEffect(() => {\n    status !== null && dispatch(updateTask({ ...task, completed: status }, task.id))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [status])\n\n  return (\n    <>\n      <div>\n        <div className=\"task-item\">\n          <div className=\"task-header\">\n            <div className=\"status-icon-container\" onClick={handleStatus} >\n              {status ? <FiCheckCircle className='completed-icon' /> : <FiCircle />}\n            </div><div onClick={() => setModal(!task.completed)}>\n              <h4 className='task-item-title' style={{ textDecoration: status ? 'line-through' : 'none' }}>{task.title.length > 100 ? `${task.title.slice(0, 100)}...` : task.title}</h4>\n              {task.description && <div className='task-item-description'>\n                {task.description.length > 100 ? `${task.description.slice(0, 100)}...` : task.description}\n              </div>}\n\n              {task.deadline && <div className='task-item-deadline' style={{ color: overDue ? 'red' : 'initial' }}>\n                <FaRegClock />{' '}{new Date(task.deadline).toLocaleDateString()}\n              </div>}\n              {task.tags.length > 0 && <div>\n                {task.tags.slice(0, 3).map(tag => <span className='tag-item' key={tag.id}>{tag.name}</span>)}\n              </div>\n              }\n              {\n                task.priority && <div className='task-item-priority'><BsExclamationDiamond /></div>\n              }\n\n            </div>\n          </div>\n\n\n\n          <div className='task-item-buttons-container'>\n            {!task.completed && <button className='edit-button' onClick={() => setModal(true)}>\n              <FaEdit />\n            </button>}\n            <button onClick={handleDelete} className=\"delete-button\" >\n              <FaTrashAlt />\n            </button>\n          </div>\n        </div>\n\n      </div>\n      {modal && <TaskForm key={task.id} modal={modal}\n        defaultTask={task} toggle={toggle}  task={task} type=\"Edit\" />}\n    </>\n  );\n};\n\nexport default TaskItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}